(function(e){function t(t){for(var r,n,o=t[0],c=t[1],l=t[2],h=0,u=[];h<o.length;h++)n=o[h],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&u.push(s[n][0]),s[n]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(t);while(u.length)u.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],r=!0,o=1;o<a.length;o++){var c=a[o];0!==s[c]&&(r=!1)}r&&(i.splice(t--,1),e=n(n.s=a[0]))}return e}var r={},s={app:0},i=[];function n(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=r,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/covid-19-dashboard/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var d=c;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid "},[e._m(0),a("div",{staticClass:"row justify-content-center my-5"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 col-lg-6",attrs:{id:"chart"}},[a("h2",[e._v("Total Number of Tests")]),a("div",{staticClass:"col-xs-offset 1 col-xs-11 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6"},[a("div",{staticClass:"btn-toolbar",attrs:{role:"toolbar"}},[a("div",{staticClass:"btn-group btn-group-justified",attrs:{role:"group"}},[a("div",{staticClass:"btn-group",attrs:{role:"group"}},[a("button",{staticClass:"btn btn-primary",class:{active:"one_month"===e.selection},attrs:{id:"list"},on:{click:function(t){return e.updateData("one_month")}}},[e._v("1M")])]),a("div",{staticClass:"btn-group",attrs:{role:"group"}},[a("button",{staticClass:"btn btn-primary",class:{active:"six_months"===e.selection},attrs:{id:"new"},on:{click:function(t){return e.updateData("six_months")}}},[e._v("6M")])]),a("div",{staticClass:"btn-group",attrs:{role:"group"}},[a("button",{staticClass:"btn btn-primary",class:{active:"one_year"===e.selection},attrs:{id:"passreset"},on:{click:function(t){return e.updateData("one_year")}}},[e._v("1Y")])]),a("div",{staticClass:"btn-group",attrs:{role:"group"}},[a("button",{staticClass:"btn btn-primary",class:{active:"all"===e.selection},attrs:{id:"desact"},on:{click:function(t){return e.updateData("all")}}},[e._v("All")])])])])]),a("div",{attrs:{id:"chart-timeline"}},[a("apexchart",{ref:"chart",attrs:{type:"area",height:"350",options:e.tChartOptions,series:e.tSeries}})],1)]),a("div",{staticClass:" col-md-12 col-lg-6"},[a("h2",[e._v("Top n Cases")]),a("p",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.n,expression:"n"}],attrs:{type:"range",value:"5",min:"2",max:"15","data-step":"1"},domProps:{value:e.n},on:{change:e.updateBar,__r:function(t){e.n=t.target.value}}}),a("b",[e._v(e._s(e.n))])]),a("vue-tabs",{attrs:{activeTextColor:"#0d6efd"},on:{"tab-change":e.handleTabChange}},[a("v-tab",{attrs:{title:"Active Cases"}},[0==e.tabIndex?a("apexchart",{attrs:{type:"bar",height:"350",options:e.activeBarChartOptions,series:e.activeBarSeries}}):e._e()],1),a("v-tab",{attrs:{title:"Confirmed Cases"}},[1==e.tabIndex?a("apexchart",{attrs:{type:"bar",height:"350",options:e.confirmedBarChartOptions,series:e.confirmedBarSeries}}):e._e()],1),a("v-tab",{attrs:{title:"Dead Cases"}},[2==e.tabIndex?a("apexchart",{attrs:{type:"bar",height:"350",options:e.deadBarChartOptions,series:e.deadBarSeries}}):e._e()],1),a("v-tab",{attrs:{title:"Recovered Cases"}},[3==e.tabIndex?a("apexchart",{attrs:{type:"bar",height:"350",options:e.recoveredBarChartOptions,series:e.recoveredBarSeries}}):e._e()],1)],1)],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 col-lg-12"},[a("div",{staticClass:"graphic-container"},[a("h2",[e._v("Total Cases by Area")]),a("div",[e.areas.length?a("Select2",{attrs:{options:e.areas,settings:{multiple:!0,placeholder:" Plaese select area or multiple areas"}},on:{change:function(t){return e.myChangeEvent(t)}},model:{value:e.cites,callback:function(t){e.cites=t},expression:"cites"}}):e._e(),e.cites.length?a("div",e._l(e.cites,(function(t,r){return a("span",{key:r,staticClass:"badge bg-primary mx-1"},[e._v(e._s(t))])})),0):e._e()],1),a("apexchart",{attrs:{type:"bar",height:"350",options:e.totalChartOptions,series:e.totalSeries}})],1)])])])])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"masthead pt-2 "},[a("div",{staticClass:"container h-100"},[a("div",{staticClass:"row h-100 align-items-center"},[a("div",{staticClass:"col-12 text-center"},[a("h1",{staticClass:"text-light"},[e._v("COVID-19 Simple Dashboard in Saudi Arabia")]),a("p",{staticClass:"lead text-light"},[e._v("Up-to-date Interactive Statistics ")])])])])])}],n=a("3835"),o=a("5530"),c=a("1da1"),l=(a("fb6a"),a("d81d"),a("d3b7"),a("3ca3"),a("ddb0"),a("07ac"),a("4e82"),a("96cf"),{data:function(){return{tabIndex:0,cites:[],selectedAreas:[],actives:[],confirmed:[],deaths:[],recovers:[],n:5,activeAreas:{},confirmedAreas:{},deathsAreas:{},recoverdAreas:{},areas:[],totalSeries:[],selection:"all",testsData:{},reducedTestsData:{},TotalByArea:{},reducedTotalByArea:{},activeBarSeries:[{data:[]}],activeBarChartOptions:{noData:{text:"Loading...",align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:"#000000",fontSize:"14px",fontFamily:"Helvetica"}},chart:{type:"bar",height:350},plotOptions:{bar:{borderRadius:4,horizontal:!0}},dataLabels:{enabled:!1},xaxis:{categories:[]}},confirmedBarSeries:[{data:[]}],confirmedBarChartOptions:{noData:{text:"Loading...",align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:"#000000",fontSize:"14px",fontFamily:"Helvetica"}},chart:{type:"bar",height:350},plotOptions:{bar:{borderRadius:4,horizontal:!0}},dataLabels:{enabled:!1},xaxis:{categories:[]}},deadBarSeries:[{data:[]}],deadBarChartOptions:{noData:{text:"Loading...",align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:"#000000",fontSize:"14px",fontFamily:"Helvetica"}},chart:{type:"bar",height:350},plotOptions:{bar:{borderRadius:4,horizontal:!0}},dataLabels:{enabled:!1},xaxis:{categories:[]}},recoveredBarSeries:[{data:[]}],recoveredBarChartOptions:{noData:{text:"Loading...",align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:"#000000",fontSize:"14px",fontFamily:"Helvetica"}},chart:{type:"bar",height:350},plotOptions:{bar:{borderRadius:4,horizontal:!0}},dataLabels:{enabled:!1},xaxis:{categories:[]}},tSeries:[{data:[]}],tChartOptions:{noData:{text:"Loading...",align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:"#000000",fontSize:"14px",fontFamily:"Helvetica"}},chart:{id:"area-datetime",type:"area",height:350,zoom:{enabled:!1},animations:{enabled:!1}},annotations:{yaxis:[{y:30,borderColor:"#999"}],xaxis:[{borderColor:"#999",yAxisIndex:0}]},dataLabels:{enabled:!1},markers:{size:0,style:"hollow"},xaxis:{type:"datetime",min:new Date("01 Mar 2020").getTime(),max:(new Date).getTime(),tickAmount:6},tooltip:{x:{format:"dd MMM yyyy"}},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.9,stops:[0,100]}}},totalChartOptions:{noData:{text:"Plaese select areas to view",align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:"#000000",fontSize:"14px",fontFamily:"Helvetica"}},chart:{type:"bar",height:350},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:[]},yaxis:{title:{text:"Cases"}},fill:{opacity:1}}}},components:{},methods:{callApi:function(e,t,a){var r=this;return Object(c["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,r.axios({method:e,url:t,data:a});case 3:return s.abrupt("return",s.sent);case 6:return s.prev=6,s.t0=s["catch"](0),s.abrupt("return",s.t0.response);case 9:case"end":return s.stop()}}),s,null,[[0,6]])})))()},handleTabChange:function(e){console.log(e),this.tabIndex=e},updateBar:function(){var e=[{data:this.activeAreas.data.slice(0,this.n)}];this.activeBarSeries=e;var t=this.activeAreas.areas.slice(0,this.n);this.activeBarChartOptions=Object(o["a"])(Object(o["a"])({},this.activeBarChartOptions),{xaxis:{categories:t}});var a=[{data:this.confirmedAreas.data.slice(0,this.n)}];this.confirmedBarSeries=a;var r=this.confirmedAreas.areas.slice(0,this.n);this.confirmedBarChartOptions=Object(o["a"])(Object(o["a"])({},this.confirmedBarChartOptions),{xaxis:{categories:r}});var s=[{data:this.deathsAreas.data.slice(0,this.n)}];this.deadBarSeries=s;var i=this.deathsAreas.areas.slice(0,this.n);this.deadBarChartOptions=Object(o["a"])(Object(o["a"])({},this.deadBarChartOptions),{xaxis:{categories:i}});var n=[{data:this.recoverdAreas.data.slice(0,this.n)}];this.recoveredBarSeries=n;var c=this.recoverdAreas.areas.slice(0,this.n);this.recoveredBarChartOptions=Object(o["a"])(Object(o["a"])({},this.recoveredBarChartOptions),{xaxis:{categories:c}})},myChangeEvent:function(e){for(var t=this,a=[],r=0;r<e.length;r++)a.push(this.areas.indexOf(e[r]));var s=[{name:"Total Active cases",data:a.map((function(e){return t.actives[e]}))},{name:"Total Confirmed  cases",data:a.map((function(e){return t.confirmed[e]}))},{name:"Total deaths ",data:a.map((function(e){return t.deaths[e]}))},{name:"Total recovered cases",data:a.map((function(e){return t.recovers[e]}))}],i=a.map((function(e){return t.areas[e]}));this.totalSeries=s,this.totalChartOptions=Object(o["a"])(Object(o["a"])({},this.totalChartOptions),{chart:{type:"bar",height:350,width:"100%"},xaxis:{categories:i}})},updateData:function(e){this.selection=e;var t=new Date;switch(e){case"one_month":var a=new Date;a.setDate(t.getDate()-30),this.$refs.chart.zoomX(a.getTime(),t.getTime());break;case"six_months":var r=new Date;r.setDate(t.getDate()-180),this.$refs.chart.zoomX(r.getTime(),t.getTime());break;case"one_year":var s=new Date;s.setDate(t.getDate()-360),this.$refs.chart.zoomX(s.getTime(),t.getTime());break;case"all":this.$refs.chart.zoomX(new Date("01 Mar 2020").getTime(),t);break;default:}}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,r,s,i,c,l,d,h,u,p,f,v,b,m,g,x,y,C,O,B,_,T,A,S,w,D,j,k,z;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e.callApi("get","https://services6.arcgis.com/bKYAIlQgwHslVRaK/arcgis/rest/services/DailyTestPerformance_ViewLayer/FeatureServer/0/query?where=1%3D1&outFields=*&outSR=4326&f=json"),e.callApi("get","https://services6.arcgis.com/bKYAIlQgwHslVRaK/arcgis/rest/services/CasesByGovernoratesViewLayer/FeatureServer/0/query?where=1%3D1&outFields=*&outSR=4326&f=json")]);case 2:if(a=t.sent,r=Object(n["a"])(a,2),s=r[0],i=r[1],200==s.status){for(c=s.data.features,d=0,h=c.length;d<h;d++)l=c[d],c[d]=l.attributes;e.testsData=c,e.reducedTestsData=e.testsData.map((function(e){var t=e.ReportDate,a=e.DailyTest;return{ReportDate:t,DailyTest:a}})),u=e.reducedTestsData.map(Object.values),p=[{name:"Cases",data:u}],e.tSeries=p}if(200==i.status){for(f=i.data.features,d=0,h=f.length;d<h;d++)l=f[d],f[d]=l.attributes;for(e.TotalByArea=f,e.reducedTotalByArea=e.TotalByArea.map((function(e){var t=e.Governorate_Name_EN,a=e.TotalActive,r=e.TotalConfirmed,s=e.TotalDeaths,i=e.TotalRecovered;return{Governorate_Name_EN:t,TotalActive:a,TotalConfirmed:r,TotalDeaths:s,TotalRecovered:i}})),v=e.reducedTotalByArea.map(Object.values).sort((function(e,t){return t[1]-e[1]})),b=[],m=[],g=[],x=[],y=[],C=0;C<v.length;C++)b[C]=v[C][0],m[C]=v[C][1];for(e.actives=m,e.confirmed=g,e.deaths=x,e.recovers=y,e.areas=b,O=[{data:m.slice(0,e.n)}],e.activeBarSeries=O,B=b.slice(0,e.n),e.activeBarChartOptions=Object(o["a"])(Object(o["a"])({},e.activeBarChartOptions),{xaxis:{categories:B}}),e.activeAreas={data:m,areas:b},v=v.sort((function(e,t){return t[2]-e[2]})),_=0;_<v.length;_++)b[_]=v[_][0],g[_]=v[_][2];for(e.confirmedAreas={data:g,areas:b},T=[{data:g.slice(0,e.n)}],e.confirmedBarSeries=T,A=b.slice(0,e.n),e.confirmedBarChartOptions=Object(o["a"])(Object(o["a"])({},e.confirmedBarChartOptions),{xaxis:{categories:A}}),v=v.sort((function(e,t){return t[3]-e[3]})),S=0;S<v.length;S++)b[S]=v[S][0],x[S]=v[S][3];for(e.deathsAreas={data:x,areas:b},w=[{data:x.slice(0,e.n)}],e.deadBarSeries=w,D=b.slice(0,e.n),e.deadBarChartOptions=Object(o["a"])(Object(o["a"])({},e.deadBarChartOptions),{xaxis:{categories:D}}),v=v.sort((function(e,t){return t[4]-e[4]})),j=0;j<v.length;j++)b[j]=v[j][0],y[j]=v[j][4];e.recoverdAreas={data:y,areas:b},k=[{data:y.slice(0,e.n)}],e.recoveredBarSeries=k,z=b.slice(0,e.n),e.recoveredBarChartOptions=Object(o["a"])(Object(o["a"])({},e.recoveredBarChartOptions),{xaxis:{categories:z}})}case 8:case"end":return t.stop()}}),t)})))()}}),d=l,h=(a("034f"),a("2877")),u=Object(h["a"])(d,s,i,!1,null,null,null),p=u.exports,f=a("1321"),v=a.n(f),b=a("bc3a"),m=a.n(b),g=a("130e"),x=a("4d48"),y=a.n(x),C=(a("4bf4"),a("3f5b"));a("ab8b"),a("7b17");r["a"].component("Select2",C["a"]),r["a"].use(y.a),r["a"].use(v.a),r["a"].use(g["a"],m.a),r["a"].component("apexchart",v.a),r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(p)}}).$mount("#app")},"85ec":function(e,t,a){}});
//# sourceMappingURL=app.e8175fe1.js.map